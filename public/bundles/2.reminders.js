webpackJsonp([2],{14:function(a,b){"use strict";a.exports=function(a){a.controller("commonCtrl",["$rootScope","api",function(a,b){}])}},16:function(a,b){"use strict";a.exports=function(a){a.controller("remindersCtrl",["$scope","api","moment","$modal","lodash",function(a,b,c,d,e){a.alerts=[],a.reminders=[],a.show_form=!1,a.edit_form=!1,a.newReminder={schedule_date:new Date,recipients:[],title:"",notify_by_email:!0,notify_by_text:!0,notify_by_voice:!0,text_sms:"",email:"",number_voice_recording:"",recurring:!1,recurring_frequency:1},a.members=[],b.get("users",a.user._id,"networks",!1,function(b,c){b||(a.members=c.data.members)}),a.loadReceipts=function(b){return console.log("Load loadReceipts"),a.members},a.closeAlert=function(b){a.alerts.splice(b,1)},a.disable_voice=!0,a.disable_text=!0,a.disable_email=!0,a.$watch("newReminder.notify_by_voice",function(b){a.disable_voice=!b,a.$$phase||a.$apply()}),a.$watch("newReminder.notify_by_text",function(b){a.disable_text=!b,a.$$phase||a.$apply()}),a.$watch("newReminder.notify_by_email",function(b){a.disable_email=!b,a.$$phase||a.$apply()}),a.datetimepickerConfig={onSelectDate:function(b,c){a.newReminder.schedule_date=b,a.$$phase||a.$apply()},onSelectTime:function(b,c){a.newReminder.schedule_date=b,a.$$phase||a.$apply()}},b.get("reminders",!1,!1,!1,function(b,c){c.data.reminders&&c.data.reminders.length>0?(a.reminders=c.data.reminders,a.network=c.data.network):(c.data.network.length<1&&a.alerts.push({type:"info",msg:"You need to add friends/family to your network before you can add reminders."}),a.show_form=!1)}),a.addReminder=function(){b.post("reminders",!1,a.newReminder,function(b,c){b||(c.error?(a.alerts=[],e.forEach(c.errors,function(b){a.alerts.push({type:"error",msg:b.msg})})):(a.reminders.push(c.data.reminder),a.show_form=!1))})},a.updateReminder=function(c){b.put("reminders",a.reminders[c]._id,!1,{},function(b,c){b||c.error&&(a.alerts=[],e.forEach(c.errors,function(b){a.alerts.push({type:"error",msg:b.msg})}))})},a.viewReminder=function(b){d.open({templateUrl:"modules/dashboard/views/reminder-popup.html",controller:"viewReminderPopup",resolve:{reminder:function(){return a.reminders[b]},network:function(){return a.network}}})},a.removeReminder=function(c){b["delete"]("reminders",a.reminders[c]._id,!1,function(b,d){b||(d.error?(a.alerts=[],e.forEach(d.errors,function(b){a.alerts.push({type:"error",msg:b.msg})})):a.reminders.splice(c,1))})}}]),a.controller("viewReminderPopup",["$scope","$modalInstance","api","reminder","network",function(a,b,c,d,e){a.reminder=d,a.network=e,a.ok=function(){b.close(a.selected.item)},a.cancel=function(){b.dismiss("cancel")}}])}}});