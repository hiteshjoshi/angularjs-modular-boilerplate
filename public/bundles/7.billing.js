webpackJsonp([7],{14:function(a,b){"use strict";a.exports=function(a){a.controller("commonCtrl",["$rootScope","api",function(a,b){}])}},21:function(a,b){"use strict";a.exports=function(a){a.controller("billingCtrl",["$scope","api","$window","$interval",function(a,b,c,d){a.plan={paid:!0},a.profile=null,a.billing_address={address_1:"",address_2:"",city:"",state:"",postal:"",country_code:"CA"},a.loading=!0,b.get("users",a.user._id,"billing",!1,function(b,c){a.loading=!1,c.data.plan&&(a.plan=c.data.plan,a.profile=c.data.plan.user_id,a.paypal=c.data.paypal,a.profile.billing_details&&(a.billing_address=a.profile.billing_details))}),a.getBillingDetails=function(){},a.showPopup=function(a){var b="top="+(screen.height/2-250)+",left="+(screen.width/2-200)+",width=400,height=500",e=1e3,f=c.open(a,"",b),g=d(function(){e+=500;try{f.value&&(d.cancel(g),f.close())}catch(a){console.error(a)}},e)},a.paypalUrl=null,a.addPaypal=function(){a.msg="Please wait while we generate your secure paypal request",b.post("billing","paypal/subscribe",!1,function(b,c){a.msg="Done! Please click the button to subscribe",a.paypalUrl=c.data})},a.removePaypal=function(){b["delete"]("billing","paypal/unsubscribe",function(a,b){})},a.addCreditcard=function(){b.post("billing/"+a.plan._id,"creditcard",{},function(a,b){})},a.removeCreditcard=function(){b["delete"]("billing",a.plan._id,"creditcard",function(a,b){})}}])}}});